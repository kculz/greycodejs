# JWT Authentication Setup

## üéâ Your authentication system is ready!

This authentication system was generated by GreyCodeJS CLI.

## üì° Available Endpoints

### Public Endpoints

#### Register
```http
POST /auth/register
Content-Type: application/json

{
  "email": "user@example.com",
  "password": "password123",
  "username": "johndoe"
}
```

#### Login
```http
POST /auth/login
Content-Type: application/json

{
  "email": "user@example.com",
  "password": "password123"
}
```

#### Refresh Token
```http
POST /auth/refresh
Content-Type: application/json

{
  "refreshToken": "your_refresh_token"
}
```


### Protected Endpoints

Add token to headers: `Authorization: Bearer <your_token>`

#### Get Profile
```http
GET /auth/me
Authorization: Bearer <token>
```

#### Change Password
```http
POST /auth/change-password
Authorization: Bearer <token>
Content-Type: application/json

{
  "oldPassword": "oldpass123",
  "newPassword": "newpass123"
}
```


#### Logout
```http
POST /auth/logout
Authorization: Bearer <token>
```

## üîê Using Auth Middleware

### Protect Routes
```javascript
const { authenticate } = require('../middlewares/auth');

router.get('/protected', authenticate, (req, res) => {
  res.json({ user: req.user });
});
```

### Role-Based Access
```javascript
const { authenticate, authorize } = require('../middlewares/auth');

router.delete('/admin', 
  authenticate, 
  authorize('admin'),
  (req, res) => {
    // Only admins can access
  }
);
```

### Check Ownership
```javascript
const { authenticate, checkOwnership } = require('../middlewares/auth');

router.put('/users/:id', 
  authenticate, 
  checkOwnership('id'),
  (req, res) => {
    // Users can only update their own profile
  }
);
```


## üß™ Testing

### With cURL
```bash
# Register
curl -X POST http://localhost:3000/auth/register \
  -H "Content-Type: application/json" \
  -d '{"email":"test@example.com","password":"test123"}'

# Login
curl -X POST http://localhost:3000/auth/login \
  -H "Content-Type: application/json" \
  -d '{"email":"test@example.com","password":"test123"}'

# Get Profile
curl -X GET http://localhost:3000/auth/me \
  -H "Authorization: Bearer YOUR_TOKEN"
```

## ‚ö†Ô∏è Security Notes

1. **Never commit .env file** - Keep JWT secrets safe
2. **Use strong secrets** - Generated automatically by setup
3. **HTTPS only in production** - Never send tokens over HTTP
4. **Short token expiry** - Default: 1 hour, refresh: 7 days
5. **Validate input** - Always check email format and password strength

## üìö Files Created

- `services/AuthService.js` - Core authentication logic
- `controllers/AuthController.js` - API endpoints
- `middlewares/auth.js` - Route protection
- `routes/auth.js` - Authentication routes
- `AUTH_SETUP.md` - This documentation

---

Generated by GreyCodeJS CLI
